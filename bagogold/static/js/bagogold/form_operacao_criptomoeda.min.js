$(document).ready(function(){if(form_count=$("input[name=divisaooperacaocriptomoeda_set-TOTAL_FORMS]").val(),$("#add-another").click(function(){divisao_id=parseInt(form_count)+1,titulo=$("<div class='col-md-12'><h3 class='font-yellow-crusta' align='center'><strong>Divis√£o "+divisao_id+"</strong></h3><br/></div>"),row=$("#divisao-0").clone(),row.attr("id","divisao-"+form_count),$(row).find("*").each(function(){$(this).is("input")&&$(this).val(""),$(this).is("option")&&$(this).removeAttr("selected"),$.each(this.attributes,function(){this.value=this.value.replace("_set-0","_set-"+form_count)})}),$("#forms").append(titulo),$("#forms").append(row),form_count++,$("[name=divisaooperacaocriptomoeda_set-TOTAL_FORMS]").val(form_count),row.find(".bootstrap-select").replaceWith(function(){return $("select",this)}),row.find("select").selectpicker("refresh"),row.find(".bootstrap-touchspin").find("*").not("input").remove();var t=$("#id_criptomoeda option:selected").text().split(" ")[0];row.find("input[name$='-quantidade']").TouchSpin({initval:0,min:0,max:1e9,step:1e-15,decimals:15,maxboostedstep:100,postfix:t})}),""==$("#id_moeda_utilizada").val())$("input[name='preco_unitario']").TouchSpin({min:1e-12,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,prefix:"R$"});else{var t=$("#id_moeda_utilizada option:selected").text().split(" ")[0];$("input[name='preco_unitario']").TouchSpin({min:1e-12,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,postfix:t})}var i=$("#id_criptomoeda option:selected").text().split(" ")[0];$("input[name='quantidade']").TouchSpin({min:1e-12,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,postfix:i}),$("input[name$='-quantidade']").TouchSpin({min:0,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,postfix:i});var e=$("#id_criptomoeda").val(),a=$("#id_moeda_utilizada").val();if($("#id_taxa_moeda option").each(function(){$(this).val()!=a&&$(this).val()!=e?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled")}),$("#id_taxa_moeda option:selected:disabled").length>0&&$("#id_taxa_moeda").val($("#id_taxa_moeda option:enabled:first").val()),$("#id_taxa_moeda").selectpicker("refresh"),$("#id_taxa_moeda").trigger("change"),""==$("#id_taxa_moeda").val())$("input[name='taxa']").TouchSpin({min:1e-12,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,prefix:"R$"});else{var o=$("#id_taxa_moeda option:selected").text().split(" ")[0];$("input[name='taxa']").TouchSpin({min:0,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,postfix:o})}$(".date-picker").datepicker({language:"pt-BR"}),$("#id_moeda_utilizada").change(function(){if(""==$(this).val())$("#id_preco_unitario").parent().find(".bootstrap-touchspin-prefix").show(),$("#id_preco_unitario").parent().find(".bootstrap-touchspin-postfix").hide();else{var t=$("#id_moeda_utilizada option:selected").text().split(" ")[0];$("#id_preco_unitario").parent().find(".bootstrap-touchspin-prefix").hide(),$("#id_preco_unitario").parent().find(".bootstrap-touchspin-postfix").text(t),$("#id_preco_unitario").parent().find(".bootstrap-touchspin-postfix").show()}var i=$("#id_criptomoeda").val();$("#id_taxa_moeda option").each(function(){$(this).val()!=$("#id_moeda_utilizada").val()&&$(this).val()!=i?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled")}),$("#id_taxa_moeda option:selected:disabled").length>0&&$("#id_taxa_moeda").val($("#id_moeda_utilizada").val()),$("#id_taxa_moeda").selectpicker("refresh"),$("#id_taxa_moeda").trigger("change")}),$("#id_criptomoeda").change(function(){var t=$("#id_criptomoeda option:selected").text().split(" ")[0];$("input[name='quantidade']").parent().find(".bootstrap-touchspin-postfix").text(t),$("input[name$='-quantidade']").parent().find(".bootstrap-touchspin-postfix").text(t);var i=$("#id_moeda_utilizada").val();$("#id_taxa_moeda option").each(function(){$(this).val()!=$("#id_criptomoeda").val()&&$(this).val()!=i?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled")}),$("#id_taxa_moeda option:selected:disabled").length>0&&$("#id_taxa_moeda").val($("#id_criptomoeda").val()),$("#id_taxa_moeda").selectpicker("refresh"),$("#id_taxa_moeda").trigger("change")}),$("#id_taxa_moeda").change(function(){if(""==$(this).val())$("#id_taxa").parent().find(".bootstrap-touchspin-prefix").show(),$("#id_taxa").parent().find(".bootstrap-touchspin-postfix").hide();else{var t=$("#id_taxa_moeda option:selected").text().split(" ")[0];$("#id_taxa").parent().find(".bootstrap-touchspin-prefix").hide(),$("#id_taxa").parent().find(".bootstrap-touchspin-postfix").text(t),$("#id_taxa").parent().find(".bootstrap-touchspin-postfix").show()}})});