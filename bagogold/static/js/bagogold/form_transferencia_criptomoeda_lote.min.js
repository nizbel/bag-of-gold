function formatar(e){for(n=e.length-1;n>=0;n--)""==e[n]&&e.splice(n,1);for(var a=!0,t=[],n=0;n<e.length;n++){var s=e[n].split(";");if(s.length<6)t.push("\nLinha "+(n+1)+": está com menos campos que o padrão");else if(s.length>6)t.push("\nLinha "+(n+1)+": está com mais campos que o padrão");else{var r=/[\w\d]+/;s[0]=s[0].toUpperCase(),r.test(s[0])||t.push("\nLinha "+(n+1)+": campo MOEDA está vazio"),s[1]=s[1].replace(/[^\d,]/g,""),s[5]=s[5].replace(/[^\d,]/g,"");var i=/,\d{12}\d+/;i.test(s[1])&&t.push("\nLinha "+(n+1)+": quantidade está com mais de 12 casas decimais"),i.test(s[5])&&t.push("\nLinha "+(n+1)+": taxa está com mais de 12 casas decimais"),s[2].length>50&&t.push("\nLinha "+(n+1)+": descrição de origem deve ter no máximo 50 caracteres"),s[3].length>50&&t.push("\nLinha "+(n+1)+": descrição de destino deve ter no máximo 50 caracteres"),/\d{1,2}[,\.\-\/]\d{1,2}[,\.\-\/]\d\d\d\d/.test(s[4])?s[4]=s[4].replace(/\D/g,"/"):t.push("\nLinha "+(n+1)+": data deve estar no formato DD/MM/YYYY"),e[n]=s.join(";")}}return t.length>0&&(a=!1,alert(t)),[a,e.join("\n")]}$(document).ready(function(){$("#form_inserir_transf_cripto_lote").submit(function(){var e=!1;try{var a=formatar($("#id_transferencias_lote").val().split("\n"));e=!a[0],$("#id_transferencias_lote").val(a[1])}catch(a){e=!0}if(e)return!1})});