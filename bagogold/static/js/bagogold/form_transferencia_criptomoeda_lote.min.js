function formatar(e){for(var a=e.length-1;a>=0;a--)""==e[a]&&e.splice(a,1);for(var t=!0,n=[],a=0;a<e.length;a++){var s=e[a].split(";");if(s.length<6)n.push("\nLinha "+(a+1)+": está com menos campos que o padrão");else if(s.length>6)n.push("\nLinha "+(a+1)+": está com mais campos que o padrão");else{var r=/[\w\d]+/;s[0]=s[0].toUpperCase(),r.test(s[0])||n.push("\nLinha "+(a+1)+": campo MOEDA está vazio"),s[1]=s[1].replace(/[^\d,]/g,""),s[5]=s[5].replace(/[^\d,]/g,"");var i=/,\d{12}\d+/;i.test(s[1])&&n.push("\nLinha "+(a+1)+": quantidade está com mais de 12 casas decimais"),i.test(s[5])&&n.push("\nLinha "+(a+1)+": taxa está com mais de 12 casas decimais"),s[2].length>50&&n.push("\nLinha "+(a+1)+": descrição de origem deve ter no máximo 50 caracteres"),s[3].length>50&&n.push("\nLinha "+(a+1)+": descrição de destino deve ter no máximo 50 caracteres");var o=/\d{1,2}[,\.\-\/]\d{1,2}[,\.\-\/]\d\d\d\d/;o.test(s[4])?s[4]=s[4].replace(/\D/g,"/"):n.push("\nLinha "+(a+1)+": data deve estar no formato DD/MM/YYYY"),e[a]=s.join(";")}}return n.length>0&&(t=!1,alert(n)),[t,e.join("\n")]}$(document).ready(function(){$("#form_inserir_transf_cripto_lote").submit(function(){var e=!1;try{var a=$("#id_transferencias_lote").val().split("\n"),t=formatar(a);e=!t[0],$("#id_transferencias_lote").val(t[1])}catch(n){e=!0}if(e)return!1})});