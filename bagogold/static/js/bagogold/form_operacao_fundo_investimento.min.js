$(document).ready(function(){form_count=$("input[name=divisaooperacaofundoinvestimento_set-TOTAL_FORMS]").val(),$("#add-another").click(function(){divisao_id=parseInt(form_count)+1,titulo=$("<div class='col-md-12'><h3 class='font-yellow-crusta' align='center'><strong>Divis√£o "+divisao_id+"</strong></h3><br/></div>"),row=$("#divisao-0").clone(),row.attr("id","divisao-"+form_count),$(row).find("*").each(function(){$(this).is("input")&&$(this).val(""),$(this).is("option")&&$(this).removeAttr("selected"),$.each(this.attributes,function(){this.value=this.value.replace("_set-0","_set-"+form_count)})}),$("#forms").append(titulo),$("#forms").append(row),form_count++,$("[name=divisaooperacaofundoinvestimento_set-TOTAL_FORMS]").val(form_count),row.find(".bootstrap-select").replaceWith(function(){return $("select",this)}),row.find("select").selectpicker("refresh"),row.find(".bootstrap-touchspin").find("*").not("input").remove(),row.find("input[name$='-quantidade']").TouchSpin({min:0,max:1e9,step:.01,decimals:2,maxboostedstep:100,prefix:"R$"})}),$("input[name='valor']").TouchSpin({min:.01,max:1e9,step:.01,decimals:2,maxboostedstep:100,prefix:"R$"}),$("input[name='quantidade']").TouchSpin({min:0,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,postfix:"cotas"}),$("input[name='valor_cota']").TouchSpin({min:0,max:1e9,step:1e-12,decimals:12,maxboostedstep:100,prefix:"R$"}),$("input[name$='-quantidade']").TouchSpin({min:0,max:1e9,step:.01,decimals:2,maxboostedstep:100,prefix:"R$"}),$("input[name='quantidade']").prop("disabled",!0),$("input[name='valor_cota']").prop("disabled",!0),$("#id_valor").change(function(){$("#id_valor_cota").is(":disabled")&&parseFloat($("#id_valor_cota").val().replace(".","").replace(",","."))>0&&$("#id_quantidade").val((parseFloat($(this).val().replace(".","").replace(",","."))/parseFloat($("#id_valor_cota").val().replace(".","").replace(",","."))).toFixed(12).toString().replace(".",","))}),$("#id_quantidade").change(function(){parseFloat($("#id_valor").val().replace(".","").replace(",","."))>0&&parseFloat($("#id_valor_cota").val().replace(".","").replace(",","."))>0&&($("#id_valor_cota").is(":disabled")?$("#id_quantidade").val((parseFloat($("#id_valor").val().replace(".","").replace(",","."))/parseFloat($("#id_valor_cota").val().replace(".","").replace(",","."))).toFixed(12).toString().replace(".",",")):$("#id_valor_cota").val((parseFloat($("#id_valor").val().replace(".","").replace(",","."))/parseFloat($(this).val().replace(".","").replace(",","."))).toFixed(12).toString().replace(".",",")))}),$("#id_valor_cota").change(function(){parseFloat($(this).val().replace(".","").replace(",","."))>0&&$("#id_quantidade").val((parseFloat($("#id_valor").val().replace(".","").replace(",","."))/parseFloat($(this).val().replace(".","").replace(",","."))).toFixed(12).toString().replace(".",","))})});