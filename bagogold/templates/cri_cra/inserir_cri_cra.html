{% extends "teste/base.html" %}
{% load staticfiles %}

{% block extra_head %}
    {{ form_cri_cra.media }}
<link href={% static "assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css" %} rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}

<div class="portlet light">
    <div class="portlet-title">
        <div class="caption font-yellow-crusta">
            <i class="icon-plus font-yellow-crusta"></i>
            <span class="caption-subject bold uppercase"> CRI/CRA </span>
        </div>
    </div>
    <div class="portlet-body form">
        <!-- BEGIN FORM-->
        <form method="POST" class="horizontal-form">{% csrf_token %}
            <div class="form-body">
                <div class="row">
                    <div class="form-group col-md-6 {% if form_cri_cra.nome.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.nome.label}}:</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" maxlength="50" name="nome" id="id_nome">
                            {% if form_cri_cra.nome.errors %} <span class="help-block"> {{ form_cri_cra.nome.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                    <div class="form-group col-md-6 {% if form_cri_cra.codigo_isin.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.codigo_isin.label}}:</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" maxlength="20" name="codigo_isin" id="id_codigo_isin">
                            {% if form_cri_cra.codigo_isin.errors %} <span class="help-block"> {{ form_cri_cra.codigo_isin.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 {% if form_cri_cra.tipo.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.tipo.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_tipo" name="tipo">
                                {% for key, value in form_cri_cra.fields.tipo.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.tipo.errors %} <span class="help-block"> {{ form_cri_cra.tipo.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                    <div class="form-group col-md-6 {% if form_cri_cra.tipo_indexacao.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.tipo_indexacao.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_tipo_indexacao" name="tipo_indexacao">
                                {% for key, value in form_cri_cra.fields.tipo_indexacao.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.tipo_indexacao.errors %} <span class="help-block"> {{ form_cri_cra.tipo_indexacao.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 {% if form_cri_cra.porcentagem.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.porcentagem.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_porcentagem" name="porcentagem">
                                {% for key, value in form_cri_cra.fields.porcentagem.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.porcentagem.errors %} <span class="help-block"> {{ form_cri_cra.porcentagem.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                    <div class="form-group col-md-6 {% if form_cri_cra.juros_adicional.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.juros_adicional.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_juros_adicional" name="juros_adicional">
                                {% for key, value in form_cri_cra.fields.juros_adicional.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.juros_adicional.errors %} <span class="help-block"> {{ form_cri_cra.juros_adicional.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 {% if form_cri_cra.data_emissao.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.data_emissao.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_data_emissao" name="data_emissao">
                                {% for key, value in form_cri_cra.fields.data_emissao.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.data_emissao.errors %} <span class="help-block"> {{ form_cri_cra.data_emissao.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                    <div class="form-group col-md-6 {% if form_cri_cra.valor_emissao.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.valor_emissao.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_valor_emissao" name="valor_emissao">
                                {% for key, value in form_cri_cra.fields.valor_emissao.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.valor_emissao.errors %} <span class="help-block"> {{ form_cri_cra.valor_emissao.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 {% if form_cri_cra.data_vencimento.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4" style="text-align: left;">{{form_cri_cra.data_vencimento.label}}:</label>
                        <div class="col-md-8">
                            <select class="selectpicker form-control" id="id_data_vencimento" name="data_vencimento">
                                {% for key, value in form_cri_cra.fields.data_vencimento.widget.choices %}<option value="{{ key }}">{{ value }}</option>{% endfor %}
                            </select>
                            {% if form_cri_cra.data_vencimento.errors %} <span class="help-block"> {{ form_cri_cra.data_vencimento.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                {{ formset_carencia.management_form }}
                {% for form_carencia in formset_carencia %}
                    <div class="form-group col-md-6 {% if form_carencia.carencia.errors %} has-error {% endif %}">
                        <label class="control-label col-md-4"> Período de carência: </label>
                        <div class="col-md-8">
                            <input id="id_historicocarenciacdb_rdb_set-{{forloop.counter0}}-carencia" type="text" value="{{form_carencia.carencia.value}}" name="historicocarenciacdb_rdb_set-{{forloop.counter0}}-carencia" class="form-control">
                            {% if form_carencia.carencia.errors %} <span class="help-block"> {{ form_carencia.carencia.errors.as_text }} </span> {% endif %}
                        </div>
                    </div>
                {% endfor %}
                </div>
                <div class="form-actions">
                    <div class="row">
                        <div class="col-md-offset col-md-3">
                            <button type="submit" name="save" value="1" class="btn green-steel">Salvar</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <!-- END FORM-->
    </div>
</div>

{% endblock %}
    
{% block extra_footer %}
<script src={% static "assets/global/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js" %} type="text/javascript"></script>
<script src={% static "assets/pages/scripts/components-bootstrap-maxlength.min.js" %} type="text/javascript"></script>
<script src={% static "assets/global/plugins/fuelux/js/spinner.min.js" %} type="text/javascript"></script>
<script src={% static "assets/global/plugins/bootstrap-touchspin/bootstrap.touchspin.js" %} type="text/javascript"></script>
<script src={% static "assets/pages/scripts/components-bootstrap-touchspin.min.js" %} type="text/javascript"></script>
<script src={% static "assets/global/plugins/jquery-validation/js/jquery.validate.min.js" %} type="text/javascript"></script>
<script src={% static "assets/global/plugins/jquery-validation/js/additional-methods.min.js" %} type="text/javascript"></script>
<script src={% static "assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js" %} type="text/javascript"></script>
<script>
$(document).ready(function() {
    $("input[name='nome']").maxlength();
});
</script>
{% endblock %}